---
title: "Meta*omics Network"
author: "Sunit Jain"
date: "July 16, 2015"
output: html_document
---
```{r dependencies}
package = function(p) {
	if (!p %in% installed.packages()){ install.packages(p) }
#	require(p, character.only=TRUE)
}
package("XML")
package("tm")
# http://www.r-bloggers.com/how-to-download-complete-xml-records-from-pubmed-and-extract-data/
```

```{r setup}
workdir="/Users/sunitj/Github/sandbox/OmicsNet"
setwd(workdir)
```

```{r xml}
library(XML)
xml.file="data/pubmed_allTime_search.xml"

# Parse XML into XML Tree
xml.data = xmlTreeParse(xml.file, useInternalNodes = TRUE)
top=xmlRoot(xml.data)
abstracts=xpathApply(top,"//Abstract", xmlValue)
abstract.words=paste(abstracts, collapse = " ")

library(tm)
abstract.corpus <- Corpus(abstract.words)
```

```{r}
# Use xpathSApply to extract Journal name
journal = sapply(c("//AuthorList//Author//LastName", "//ISOAbbreviation"), xpathApply, doc = xml.data, fun = xmlValue)
df = data.frame(unlist(journal))
```


